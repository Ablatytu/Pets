from classes import ДомашнееЖивотное, ВьючноеЖивотное

class Реестр:
    def __init__(self):
        self.животные = []

    def завести_новое_животное(self, тип, имя, дата_рождения, команды):
        if тип == 'Собака' or тип == 'Кошка' or тип == 'Хомяк':
            животное = ДомашнееЖивотное(имя, дата_рождения, команды)
        elif тип == 'Лошадь' or тип == 'Осел':
            животное = ВьючноеЖивотное(имя, дата_рождения, команды)
        else:
            print("Неизвестный тип животного!")
            return None
        self.животные.append(животное)
        return животное

    def получить_список_команд(self, животное):
        return животное.получить_команды()

    def обучить_новым_командам(self, животное, новые_команды):
        команды = животное.получить_команды()
        команды += ', ' + новые_команды
        животное.получить_команды = lambda: команды

    def навигация_по_меню(self):
        while True:
            print("1. Завести новое животное")
            print("2. Показать список команд животного")
            print("3. Обучить животное новым командам")
            print("4. Выход")
            выбор = input("Выберите опцию: ")
            if выбор == '1':
                тип = input("Введите тип животного (Собака, Кошка, Хомяк, Лошадь, Осел): ")
                имя = input("Введите имя животного: ")
                дата_рождения = input("Введите дату рождения животного (YYYY-MM-DD): ")
                команды = input("Введите команды, которые знает животное: ")
                животное = self.завести_новое_животное(тип, имя, дата_рождения, команды)
                if животное:
                    print(f"Животное {имя} добавлено.")
            elif выбор == '2':
                имя = input("Введите имя животного: ")
                животное = next((жив for жив in self.животные if жив.получить_имя() == имя), None)
                if животное:
                    команды = self.получить_список_команд(животное)
                    print(f"Животное {имя} знает команды: {команды}")
                else:
                    print("Животное не найдено.")
            elif выбор == '3':
                имя = input("Введите имя животного: ")
                новые_команды = input("Введите новые команды: ")
                животное = next((жив for жив in self.животные if жив.получить_имя() == имя), None)
                if животное:
                    self.обучить_новым_командам(животное, новые_команды)
                    print(f"Животное {имя} обучено новым командам.")
                else:
                    print("Животное не найдено.")
            elif выбор == '4':
                print("Выход из программы.")
                break
            else:
                print("Неверный выбор, попробуйте снова.")
